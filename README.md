# Stock portfolio optimization
 使用一个不超过20只股票的组合模拟沪深300指数的走势并计算该组合跟踪误差、年化收益率、年化波动率、夏普比率等。

选择指数权重前20支股票进行优化，股票代码为：
['600519.SH', '300750.SZ', '601318.SH', '600036.SH', '300059.SZ', '333.SZ', '600900.SH', '600030.SH', '858.SZ', '601166.SH', '601899.SH', '2594.SZ', '600276.SH', '601398.SH', '601328.SH', '2475.SZ', '651.SZ', '600887.SH', '688981.SH', '725.SZ']

方法1：最小化涨跌幅绝对误差之和
方法2：最小化跟踪误差
方法3：基于飞蛾扑火优化算法-最小化涨跌幅绝对误差之和
方法4：基于飞蛾扑火优化算法-最小化跟踪误差
方法5：最小化（0.5*跟踪误差+0.5*涨跌幅绝对误差）

## 结果记录
### 权重结果
| 股票代码      | 方法1结果  | 方法2结果   | 方法3结果  | 方法4结果  | 方法5结果   |
|-----------|--------|---------|--------|--------|---------|
| 600519.SH | 0.126  |  0.110  | 0.062  | 0.002  | 0.127   |
| 300750.SZ | 0.111  |  0.118  | 0.135  | 0.096  | 0.111   |
| 601318.SH | 0.061  |  0.072  | 0.076  | 0.086  | 0.062   |
| 600036.SH | 0.046  |  0.051  | 0.005  | 0.061  | 0.043   |
| 300059.SZ | 0.058  |  0.056  | 0.051  | 0.062  | 0.058   |
| 333.SZ    | 0.033  |  0.025  | 0.143  | 0.011  | 0.033   |
| 600900.SH | 0.028  |  0.034  | 0.031  | 0.082  | 0.029   |
| 600030.SH | 0.063  |  0.039  | 0.108  | 0.077  | 0.066   |
| 858.SZ    | 0.033  |  0.025  | 0.006  | 0.139  | 0.033   |
| 601166.SH | 0.035  |  0.042  | 0.044  | 0.070  | 0.035   |
| 601899.SH | 0.075  |  0.085  | 0.083  | 0.037  | 0.075   |
| 2594.SZ   | 0.033  |  0.025  | 0.020  | 0.000  | 0.033   |
| 600276.SH | 0.066  |  0.076  | 0.043  | 0.077  | 0.064   |
| 601398.SH | 0.000  |  0.004  | 0.000  | 0.020  | 0.000   |
| 601328.SH | 0.009  |  0.021  | 0.040  | 0.000  | 0.008   |
| 2475.SZ   | 0.033  |  0.025  | 0.000  | 0.070  | 0.033   |
| 651.SZ    | 0.033  |  0.025  | 0.000  | 0.000  | 0.033   |
| 600887.SH | 0.063  |  0.084  | 0.092  | 0.095  | 0.063   |
| 688981.SH | 0.062  |  0.056  | 0.035  | 0.000  | 0.061   |
### 评价指标
| 评价指标  | 方法1   | 方法2（表现最佳）   | 方法3   | 方法4   | 方法5    |
|-------|---------|---------|---------|---------|----------|
| 跟踪误差  | 0.0038  | **0.0037**  | 0.0040  | 0.0045  | 0.0038   |
| 年化收益率 | 0.0540  | **0.1781** | 0.0657  | 0.0540  | 0.0544   |
| 年化波动率 | 0.1737  | 0.1781  | 0.1715  | 0.1555  | 0.1735   |
| 夏普比率  | 0.2391  | 0.2510  | 0.3099  | 0.2665  | 0.2414   |

综合分析：
- 方法2在年化收益率和夏普比率上表现最佳，尤其是在夏普比率上，表明其在风险调整后收益能力最强，是最优的选择。
- 方法3在夏普比率上表现突出，尽管年化收益率不是最高，但其风险调整后的收益能力非常强，是一个值得考虑的选择。
- 方法4的跟踪误差最大，表明其与沪深300指数的偏离程度最大，但年化波动率最小，风险最低，适合风险厌恶型投资者。
- 方法1和方法5的表现相对均衡，没有特别突出的指标，但也没有明显的短板。